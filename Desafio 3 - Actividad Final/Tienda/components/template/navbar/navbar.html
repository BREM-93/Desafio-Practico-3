<nav class="navbar navbar-expand-lg navbar-light bg-light">
  <a class="navbar-brand" href="#"> <h4>Tienda de Libros Virtuales</h4></a>
  <div class="collapse navbar-collapse" id="navbarSupportedContent">
    <ul class="navbar-nav mr-auto"></ul>
    <form class="form-inline my-2 my-lg-0">
      <!-- Botón para abrir el modal del carrito -->
      <button type="button" class="btn btn-link" data-toggle="modal" data-target="#cart-modal">
        <i class="bi bi-cart mr-3"></i>
      </button>
      <!-- Mostrar el total del carrito -->
      <span>$ {{$ctrl.getTotal() | number : 2}}</span>
    </form>
  </div>
</nav>

<div class="modal fade" id="cart-modal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Carrito de compra</h5>
        
        <!-- Botón para cerrar el modal -->
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">

        <!-- Tabla que muestra el producto precio cantidad y sub total -->
        <table class="table">
          <thead class="thead-dark">
            <tr class="text-bold">
              <td>PRODUCTO</td>
              <td>PRECIO</td>
              <td>CANTIDAD</td>
              <td>SUB TOTAL</td>
            </tr>
          </thead>
          <tbody>

            <!-- Mostrar los elementos del carrito -->
            <tr ng-repeat="item in $ctrl.getCart()">
              <td>{{item.nombre}}</td>
              <td>{{item.precio | number : 2}}</td>
              <td>{{item.cantidad}}</td>
              <td>{{item.subtotal}}</td>
            </tr>
          </tbody>
        </table>
        
        <!--Total de lo que se ha agregado al carrito-->
        <h2 class="text-right text-secondary">Total ${{$ctrl.getTotal() | number: 2 }}</h2>
      </div>
      <div class="modal-footer">

        <!--Botones para pagar o salir de la ventana-->
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancelar</button>
        <button type="button" class="btn btn-primary" data-dismiss="modal" ng-click="$ctrl.pagar()">Pagar</button>
      </div>
    </div>
  </div>
</div>

